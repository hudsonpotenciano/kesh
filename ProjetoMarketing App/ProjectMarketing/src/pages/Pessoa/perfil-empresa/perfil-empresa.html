<ion-header>
    <ion-navbar>
        <ion-title>
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content>

    <ion-item no-lines>
        <ion-avatar item-start>
            <img class="logo" src="{{empresaProvider.obtenhaLogoEmpresa(dadosPessoaEmpresa.Empresa.IdEmpresa)}}" alt="">
        </ion-avatar>
        <h2>{{dadosPessoaEmpresa.Perfil.Descricao}}</h2>
        <p class="estrela-nota" *ngIf="dadosPessoaEmpresa.NotaGeral"><img *ngFor="let i of obtenhaArrayNota(dadosPessoaEmpresa.NotaGeral)" src="./assets/svg/estrela.svg" alt=""> </p>
        <p>{{dadosPessoaEmpresa.Conta.Resumo}}</p>
    </ion-item>


    <ion-segment [(ngModel)]="opcao">
        <ion-segment-button value="1">
            Catálogo
        </ion-segment-button>
        <ion-segment-button value="2">
            Avaliações
        </ion-segment-button>
    </ion-segment>

    <div *ngIf="opcao == 1" class="catalogo">
        <div class="box" *ngFor="let imagemCatalogo of dadosPessoaEmpresa.Catalogo">
            <div class="imagem-catalogo" (click)="abraImagem(imagemCatalogo.IdImagem)" [style.background-image]="'url(' + empresaLojaProvider.obtenhaImagemCatalogo(imagemCatalogo.IdImagem) + ')'"></div>
        </div>
    </div>

    <ion-list *ngIf="opcao == 2">
        <ion-item class="minha-avaliacao" *ngIf="dadosPessoaEmpresa.PessoaEmpresa.Comentario">
            <p>Comentario: {{dadosPessoaEmpresa.PessoaEmpresa.Comentario}}</p>
            <p>Nota: {{dadosPessoaEmpresa.PessoaEmpresa.Nota}}</p>
            <button ion-button clear item-end>   
                <ion-icon name="create"></ion-icon>
            </button>
        </ion-item>

        <ion-item *ngFor="let notaComentarios of notasComentariosPessoasEmpresas">
            <ion-avatar item-start>
                <img [src]="pessoaProvider.obtenhaFotoPessoa(notaComentarios.IdPessoa)">
            </ion-avatar>
            <h2>Nome: {{notaComentarios.Nome}}</h2>
            <p>Comentário: {{notaComentarios.Comentario}}</p>
            <p>Nota: {{notaComentarios.Nota}}</p>
            <p>Data: {{notaComentarios.DataAvaliacao | Data}}</p>
        </ion-item>
    </ion-list>


    <ion-fab bottom right>
        <button ion-fab><ion-icon name="add"></ion-icon></button>
        <ion-fab-list side="top">
            <button ion-fab *ngIf="podeCompartilhar" (click)="compartilhe()">  <ion-icon name="share-alt"></ion-icon>
            </button>
            <button ion-fab *ngIf="!podeCompartilhar" (click)="mostreNaoPodeCompartilhar()">  <ion-icon name="share-alt"></ion-icon>
            </button>
            <button ion-fab (click)="rota()">  <ion-icon name="navigate"></ion-icon>
            </button>
        </ion-fab-list>
    </ion-fab>
</ion-content>